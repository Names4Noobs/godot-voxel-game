[gd_scene load_steps=18 format=3 uid="uid://b8iv278d6y1yj"]

[ext_resource type="Script" path="res://misc/main.gd" id="1_shok0"]
[ext_resource type="VoxelMesherBlocky" uid="uid://b4auxytidn7dp" path="res://data/terrain/vox_mesher.tres" id="2_5birx"]
[ext_resource type="PackedScene" uid="uid://bitkqjksn65n2" path="res://ui/HUD/VoxelHUD.tscn" id="2_wifs6"]
[ext_resource type="PackedScene" uid="uid://e6nk6t2wb2y3" path="res://entities/Player/Player.tscn" id="9_o0wgt"]
[ext_resource type="Script" path="res://systems/random_ticks.gd" id="9_sd1g1"]
[ext_resource type="Script" path="res://systems/camera_switcher.gd" id="12_8e2ql"]
[ext_resource type="Material" uid="uid://cjd6g1xmxtacr" path="res://data/terrain/voxel_material.tres" id="12_md8h0"]
[ext_resource type="PackedScene" uid="uid://cq20ql700thk3" path="res://systems/voxel_interaction/VoxelInteraction.tscn" id="12_p2q13"]
[ext_resource type="Script" path="res://systems/world_logic.gd" id="13_4177h"]
[ext_resource type="AudioStream" uid="uid://8xuo1ml778xv" path="res://assets/sfx/blocks/grass/footstep_grass_000.ogg" id="14_ys7v3"]
[ext_resource type="Script" path="res://systems/handle_input.gd" id="16_wog8v"]
[ext_resource type="Script" path="res://systems/managers/player_manager.gd" id="23_p34ma"]
[ext_resource type="Script" path="res://systems/managers/mob_manager.gd" id="24_5w8jj"]
[ext_resource type="Environment" uid="uid://bcscgq8pjvmun" path="res://data/world/default_world_env.tres" id="25_jqh3t"]

[sub_resource type="Curve" id="Curve_36ahv"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.505155, 0.2), 0.0, 0.0, 0, 0, Vector2(0.974227, 0.0545454), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="FastNoiseLite" id="FastNoiseLite_64q4y"]

[sub_resource type="VoxelGeneratorNoise2D" id="VoxelGeneratorNoise2D_mmecg"]
channel = 0
iso_scale = 1.981
noise = SubResource("FastNoiseLite_64q4y")
curve = SubResource("Curve_36ahv")

[node name="Main" type="Node3D"]
script = ExtResource("1_shok0")

[node name="PlayerManager" type="Node" parent="."]
script = ExtResource("23_p34ma")

[node name="MobManager" type="Node" parent="."]
script = ExtResource("24_5w8jj")

[node name="CameraSwitcher" type="Node" parent="."]
script = ExtResource("12_8e2ql")

[node name="RandomTicks" type="Node" parent="."]
script = ExtResource("9_sd1g1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("25_jqh3t")

[node name="VoxelTerrain" type="VoxelTerrain" parent="."]
unique_name_in_owner = true
generator = SubResource("VoxelGeneratorNoise2D_mmecg")
mesher = ExtResource("2_5birx")
material_override = ExtResource("12_md8h0")

[node name="CharacterBody3D" parent="." instance=ExtResource("9_o0wgt")]

[node name="VoxelInteraction" parent="." instance=ExtResource("12_p2q13")]
camera_path = NodePath("../CharacterBody3D/Node3D/Camera3D")
head_path = NodePath("../CharacterBody3D/Node3D")
raycast_path = NodePath("../CharacterBody3D/Node3D/RayCast3D")
terrain_path = NodePath("../VoxelTerrain")

[node name="WorldLogic" type="Node" parent="."]
script = ExtResource("13_4177h")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldLogic"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 306.238, 0)
light_color = Color(0.992157, 0.956863, 0.592157, 1)
directional_shadow_mode = 0

[node name="InputHandler" type="Node" parent="."]
script = ExtResource("16_wog8v")

[node name="VoxelHUD" parent="." instance=ExtResource("2_wifs6")]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_ys7v3")

[editable path="CharacterBody3D"]
