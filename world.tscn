[gd_scene load_steps=20 format=3 uid="uid://dhusnmtqu4w4n"]

[ext_resource type="Script" path="res://misc/freelook_camera/freelook_camera.gd" id="1_a4qe7"]
[ext_resource type="VoxelMesherBlocky" uid="uid://clpctl4ai1djl" path="res://data/voxel_terrain/voxel_mesher.tres" id="1_ahwni"]
[ext_resource type="VoxelGeneratorNoise2D" uid="uid://coolfkini4vt3" path="res://data/voxel_terrain/basic_voxel_generator.tres" id="1_u2gtw"]
[ext_resource type="Script" path="res://entities/player/player.gd" id="2_6jk5r"]
[ext_resource type="Material" uid="uid://dont6h4nnil8f" path="res://data/voxel_terrain/voxel_material.tres" id="2_s5cip"]
[ext_resource type="Script" path="res://entities/player/player_camera.gd" id="3_ml1pa"]
[ext_resource type="Script" path="res://systems/voxel_interactor/voxel_interactor.gd" id="6_riqhf"]
[ext_resource type="Script" path="res://systems/inventory/inventory.gd" id="7_13u4u"]
[ext_resource type="Script" path="res://systems/entity_interactor/entity_interactor.gd" id="8_6wast"]
[ext_resource type="PackedScene" uid="uid://ck0j0uk6je5fv" path="res://assets/models/player/player.gltf" id="9_1lwlb"]
[ext_resource type="Script" path="res://entities/player/player_model.gd" id="10_px10e"]
[ext_resource type="PackedScene" uid="uid://he4t8i6m2ts7" path="res://assets/models/cow/cow.gltf" id="11_qimms"]
[ext_resource type="Script" path="res://entities/cow/cow.gd" id="11_ym64x"]
[ext_resource type="Script" path="res://systems/stats/health/health.gd" id="14_3va70"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jgvdv"]

[sub_resource type="Sky" id="Sky_v1c1c"]
sky_material = SubResource("ProceduralSkyMaterial_jgvdv")

[sub_resource type="Environment" id="Environment_ehkon"]
background_mode = 2
background_energy_multiplier = 1.79
sky = SubResource("Sky_v1c1c")
tonemap_mode = 2
glow_intensity = 5.09

[sub_resource type="BoxShape3D" id="BoxShape3D_wkt75"]
size = Vector3(0.75, 1.75, 0.75)

[sub_resource type="BoxShape3D" id="BoxShape3D_3wj4g"]
size = Vector3(0.737933, 1.36172, 1.20875)

[node name="World" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.17822, 0)

[node name="VoxelTerrain" type="VoxelTerrain" parent="."]
unique_name_in_owner = true
generator = ExtResource("1_u2gtw")
mesher = ExtResource("1_ahwni")
material_override = ExtResource("2_s5cip")

[node name="FreelookCamera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.71627, 0)
current = true
script = ExtResource("1_a4qe7")

[node name="VoxelViewer" type="VoxelViewer" parent="FreelookCamera3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ehkon")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 25, 0)
script = ExtResource("2_6jk5r")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("BoxShape3D_wkt75")

[node name="CameraHead" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.832, 0)

[node name="PlayerCamera3D" type="Camera3D" parent="Player/CameraHead"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0800419)
current = true
script = ExtResource("3_ml1pa")

[node name="VoxelViewer" type="VoxelViewer" parent="Player/CameraHead/PlayerCamera3D"]

[node name="VoxelInteractor" type="Node" parent="Player/CameraHead/PlayerCamera3D" node_paths=PackedStringArray("head", "player_camera", "inventory")]
script = ExtResource("6_riqhf")
head = NodePath("../..")
player_camera = NodePath("..")
inventory = NodePath("../../../Inventory")

[node name="EntityInteractor" type="Node" parent="Player/CameraHead/PlayerCamera3D"]
script = ExtResource("8_6wast")

[node name="Inventory" type="Node" parent="Player"]
script = ExtResource("7_13u4u")

[node name="player" parent="Player" instance=ExtResource("9_1lwlb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.928162, 0)
script = ExtResource("10_px10e")

[node name="Cow" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.09686, 3.65952, 0)
script = ExtResource("11_ym64x")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cow"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.127795, 0)
shape = SubResource("BoxShape3D_3wj4g")

[node name="cow" parent="Cow" instance=ExtResource("11_qimms")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.536612, 0)

[node name="Stats" type="Node" parent="Cow"]

[node name="Health" type="Node" parent="Cow/Stats"]
script = ExtResource("14_3va70")

[node name="CooldownTimer" type="Timer" parent="Cow/Stats/Health"]

[node name="SpeedTimer" type="Timer" parent="Cow/Stats/Health"]
