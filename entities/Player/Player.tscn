[gd_scene load_steps=9 format=3 uid="uid://e6nk6t2wb2y3"]

[ext_resource type="Script" path="res://entities/Player/player.gd" id="1_nsl1k"]
[ext_resource type="Script" path="res://entities/Player/player_camera.gd" id="2_bc2ue"]
[ext_resource type="Texture2D" uid="uid://ccv3pw682ncaq" path="res://assets/textures/item/diamond_sword.png" id="3_fvh4g"]
[ext_resource type="PackedScene" uid="uid://bu22b5gerol0c" path="res://assets/models/character/basicCharacter.fbx" id="4_ymkpn"]
[ext_resource type="Script" path="res://misc/pickup_area.gd" id="5_in2vt"]
[ext_resource type="Script" path="res://systems/player_stats_handler.gd" id="6_13ava"]

[sub_resource type="BoxShape3D" id="BoxShape3D_mqbse"]
size = Vector3(0.5, 0.75, 0.5)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_3d56w"]
height = 0.274985
radius = 1.43081

[node name="Player" type="CharacterBody3D" groups=["player"]]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.192, 0)
collision_layer = 2
script = ExtResource("1_nsl1k")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 2.24358, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_mqbse")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)

[node name="Camera3D" type="Camera3D" parent="Node3D"]
current = true
fov = 70.0
script = ExtResource("2_bc2ue")

[node name="Sprite3D" type="Sprite3D" parent="Node3D/Camera3D"]
transform = Transform3D(0.061802, 0.434748, 3.97581, 2.30382, 3.24649, -0.39081, -3.26934, 2.29593, -0.200233, 0.810865, -0.0299659, -0.759989)
visible = false
texture_filter = 0
texture = ExtResource("3_fvh4g")

[node name="RayCast3D" type="RayCast3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.741333, 0)

[node name="AudioListener3D" type="AudioListener3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.75, 0)
current = true

[node name="basicCharacter" parent="." instance=ExtResource("4_ymkpn")]
transform = Transform3D(-10.9922, 0, -0.413248, 0, 11, 0, 0.413248, 0, -10.9922, 0, -0.927709, 0)
visible = false

[node name="VoxelViewer" type="VoxelViewer" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.638834, -0.50078)

[node name="PickupArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.734819, 0)
collision_layer = 2
collision_mask = 4
script = ExtResource("5_in2vt")
inventory_path = NodePath("../../Inventory")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickupArea"]
shape = SubResource("CylinderShape3D_3d56w")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
visible = false

[node name="PlayerStatsHandler" type="Node" parent="."]
script = ExtResource("6_13ava")

[node name="StaminaRegenSpeed" type="Timer" parent="PlayerStatsHandler"]
wait_time = 0.1
one_shot = true

[node name="StaminaRegenCooldown" type="Timer" parent="PlayerStatsHandler"]
wait_time = 0.5
one_shot = true

[node name="Feet" type="Node3D" parent="."]
editor_description = "This helps calculate player fall distance."
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.838441, 0)

[connection signal="body_entered" from="PickupArea" to="PickupArea" method="_on_pickup_area_body_entered"]
